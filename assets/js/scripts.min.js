window.Modernizr=function(t,e,n){function r(t){g.cssText=t}function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var r in t){var i=t[r];if(!o(i,"-")&&g[i]!==n)return"pfx"!=e||i}return!1}function a(t,e,r){for(var o in t){var s=e[t[o]];if(s!==n)return r===!1?t[o]:i(s,"function")?s.bind(r||e):s}return!1}function l(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+w.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?s(o,e):(o=(t+" "+x.join(r+" ")+r).split(" "),a(o,e,n))}var u,c,f,h="2.8.3",p={},d=!0,m=e.documentElement,y="modernizr",v=e.createElement(y),g=v.style,b=({}.toString,"Webkit Moz O ms"),w=b.split(" "),x=b.toLowerCase().split(" "),S={},M=[],k=M.slice,C={}.hasOwnProperty;f=i(C,"undefined")||i(C.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return C.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=k.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,s=e.apply(o,n.concat(k.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(k.call(arguments)))};return r}),S.csstransitions=function(){return l("transition")};for(var T in S)f(S,T)&&(c=T.toLowerCase(),p[c]=S[T](),M.push((p[c]?"":"no-")+c));return p.addTest=function(t,e){if("object"==typeof t)for(var r in t)f(t,r)&&p.addTest(r,t[r]);else{if(t=t.toLowerCase(),p[t]!==n)return p;e="function"==typeof e?e():e,"undefined"!=typeof d&&d&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},r(""),v=u=null,function(t,e){function n(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var t=g.elements;return"string"==typeof t?t.split(" "):t}function i(t){var e=v[t[m]];return e||(e={},y++,t[m]=y,v[y]=e),e}function o(t,n,r){if(n||(n=e),c)return n.createElement(t);r||(r=i(n));var o;return o=r.cache[t]?r.cache[t].cloneNode():d.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t),!o.canHaveChildren||p.test(t)||o.tagUrn?o:r.frag.appendChild(o)}function s(t,n){if(t||(t=e),c)return t.createDocumentFragment();n=n||i(t);for(var o=n.frag.cloneNode(),s=0,a=r(),l=a.length;s<l;s++)o.createElement(a[s]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return g.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(g,e.frag)}function l(t){t||(t=e);var r=i(t);return g.shivCSS&&!u&&!r.hasCSS&&(r.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||a(t,r),t}var u,c,f="3.7.0",h=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",y=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){u=!0,c=!0}}();var g={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:f,shivCSS:h.shivCSS!==!1,supportsUnknownElements:c,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};t.html5=g,l(e)}(this,e),p._version=h,p._domPrefixes=x,p._cssomPrefixes=w,p.testProp=function(t){return s([t])},p.testAllProps=l,p.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(d?" js "+M.join(" "):""),p}(this,this.document),function(t,e,n){function r(t){return"[object Function]"==y.call(t)}function i(t){return"string"==typeof t}function o(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();g=1,t?t.t?d(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):g=0}function l(t,n,r,i,o,l,u){function c(e){if(!p&&s(f.readyState)&&(b.r=p=1,!g&&a(),f.onload=f.onreadystatechange=null,e)){"img"!=t&&d(function(){x.removeChild(f)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var u=u||h.errorTimeout,f=e.createElement(t),p=0,y=0,b={t:r,s:n,e:o,a:l,x:u};1===T[n]&&(y=1,T[n]=[]),"object"==t?f.data=n:(f.src=n,f.type=t),f.width=f.height="0",f.onerror=f.onload=f.onreadystatechange=function(){c.call(this,y)},v.splice(i,0,b),"img"!=t&&(y||2===T[n]?(x.insertBefore(f,w?null:m),d(c,u)):T[n].push(f))}function u(t,e,n,r,o){return g=0,e=e||"j",i(t)?l("c"==e?M:S,t,e,this.i++,n,r,o):(v.splice(this.i++,0,t),1==v.length&&a()),this}function c(){var t=h;return t.loader={load:u,i:0},t}var f,h,p=e.documentElement,d=t.setTimeout,m=e.getElementsByTagName("script")[0],y={}.toString,v=[],g=0,b="MozAppearance"in p.style,w=b&&!!e.createRange().compareNode,x=w?p:m.parentNode,p=t.opera&&"[object Opera]"==y.call(t.opera),p=!!e.attachEvent&&!p,S=b?"object":p?"script":"img",M=p?"script":S,k=Array.isArray||function(t){return"[object Array]"==y.call(t)},C=[],T={},E={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,n,r,t=t.split("!"),i=C.length,o=t.pop(),s=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;n<s;n++)r=t[n].split("="),(e=E[r.shift()])&&(o=e(o,r));for(n=0;n<i;n++)o=C[n](o);return o}function s(t,i,o,s,a){var l=e(t),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(i&&(i=r(i)?i:i[t]||i[s]||i[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,i,o,s,a):(T[l.url]?l.noexec=!0:T[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(r(i)||r(u))&&o.load(function(){c(),i&&i(l.origUrl,a,s),u&&u(l.origUrl,a,s),T[l.url]=2})))}function a(t,e){function n(t,n){if(t){if(i(t))n||(f=function(){var t=[].slice.call(arguments);h.apply(this,t),p()}),s(t,f,e,0,u);else if(Object(t)===t)for(l in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--a&&(r(f)?f=function(){var t=[].slice.call(arguments);h.apply(this,t),p()}:f[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(h[l])),s(t[l],f,e,l,u))}else!n&&p()}var a,l,u=!!t.test,c=t.load||t.both,f=t.callback||o,h=f,p=t.complete||o;n(u?t.yep:t.nope,!!c),c&&n(c)}var l,u,f=this.yepnope.loader;if(i(t))s(t,0,f,0);else if(k(t))for(l=0;l<t.length;l++)u=t[l],i(u)?s(u,0,f,0):k(u)?h(u):Object(u)===u&&a(u,f);else Object(t)===t&&a(t,f)},h.addPrefix=function(t,e){E[t]=e},h.addFilter=function(t){C.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",f=function(){e.removeEventListener("DOMContentLoaded",f,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,r,i,l,u){var c,f,p=e.createElement("script"),i=i||h.errorTimeout;p.src=t;for(f in r)p.setAttribute(f,r[f]);n=u?a:n||o,p.onreadystatechange=p.onload=function(){!c&&s(p.readyState)&&(c=1,n(),p.onload=p.onreadystatechange=null)},d(function(){c||(c=1,n(1))},i),l?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,n,r,i,s,l){var u,i=e.createElement("link"),n=l?a:n||o;i.href=t,i.rel="stylesheet",i.type="text/css";for(u in r)i.setAttribute(u,r[u]);s||(m.parentNode.insertBefore(i,m),d(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){var n=r(t,e)?o:i;n(t,e)}var r,i,o;"classList"in document.documentElement?(r=function(t,e){return t.classList.contains(e)},i=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(r=function(t,n){return e(n).test(t.className)},i=function(t,e){r(t,e)||(t.className=t.className+" "+e)},o=function(t,n){t.className=t.className.replace(e(n)," ")});var s={hasClass:r,addClass:i,removeClass:o,toggleClass:n,has:r,add:i,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):"object"==typeof exports?module.exports=s:t.classie=s}(window),function(){var t,e,n,r,i,o,s,a,l,u,c,f,h,p,d,m,y,v,g,b,w,x,S,M,k,C,T,E,F,j,z,$,_,q,N,W,L,A,H,O,P,X,R,D,I,Y,B,G,Z,V,Q,U,J,K,tt,et,nt=function(t,e){return function(){return t.apply(e,arguments)}};F=function(){return"visible"===document.visibilityState||null!=C.tests},q=function(){var t;return t=[],"undefined"!=typeof document&&null!==document&&document.addEventListener("visibilitychange",function(){var e,n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(e(F()));return i}),function(e){return t.push(e)}}(),x=function(t){var e,n,r;n={};for(e in t)r=t[e],n[e]=r;return n},b=function(t){var e;return e={},function(){var n,r,i,o,s;for(r="",o=0,s=arguments.length;s>o;o++)n=arguments[o],r+=n.toString()+",";return i=e[r],i||(e[r]=i=t.apply(this,arguments)),i}},_=function(t){return function(e){var n,r,i;return e instanceof Array||e instanceof NodeList||e instanceof HTMLCollection?i=function(){var i,o,s;for(s=[],r=i=0,o=e.length;o>=0?o>i:i>o;r=o>=0?++i:--i)n=Array.prototype.slice.call(arguments,1),n.splice(0,0,e[r]),s.push(t.apply(this,n));return s}.apply(this,arguments):t.apply(this,arguments)}},m=function(t,e){var n,r,i;i=[];for(n in e)r=e[n],i.push(null!=t[n]?t[n]:t[n]=r);return i},y=function(t,e){var n,r,i;if(null!=t.style)return v(t,e);i=[];for(n in e)r=e[n],i.push(t[n]=r.format());return i},v=function(t,e){var n,r,i,o,s;e=N(e),o=[],n=j(t);for(r in e)s=e[r],K.contains(r)?o.push([r,s]):(s=null!=s.format?s.format():""+s+et(r,s),n&&Z.contains(r)?t.setAttribute(r,s):t.style[L(r)]=s);return o.length>0?n?(i=new l,i.applyProperties(o),t.setAttribute("transform",i.decompose().format())):(s=o.map(function(t){return tt(t[0],t[1])}).join(" "),t.style[L("transform")]=s):void 0},j=function(t){var e,n;return"undefined"!=typeof SVGElement&&null!==SVGElement&&"undefined"!=typeof SVGSVGElement&&null!==SVGSVGElement?t instanceof SVGElement&&!(t instanceof SVGSVGElement):null!=(e=null!=(n=C.tests)&&"function"==typeof n.isSVG?n.isSVG(t):void 0)&&e},O=function(t,e){var n;return n=Math.pow(10,e),Math.round(t*n)/n},u=function(){function t(t){var e,n,r;for(this.obj={},n=0,r=t.length;r>n;n++)e=t[n],this.obj[e]=1}return t.prototype.contains=function(t){return 1===this.obj[t]},t}(),J=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},A=new u("marginTop,marginLeft,marginBottom,marginRight,paddingTop,paddingLeft,paddingBottom,paddingRight,top,left,bottom,right,translateX,translateY,translateZ,perspectiveX,perspectiveY,perspectiveZ,width,height,maxWidth,maxHeight,minWidth,minHeight,borderRadius".split(",")),k=new u("rotate,rotateX,rotateY,rotateZ,skew,skewX,skewY,skewZ".split(",")),K=new u("translate,translateX,translateY,translateZ,scale,scaleX,scaleY,scaleZ,rotate,rotateX,rotateY,rotateZ,rotateC,rotateCX,rotateCY,skew,skewX,skewY,skewZ,perspective".split(",")),Z=new u("accent-height,ascent,azimuth,baseFrequency,baseline-shift,bias,cx,cy,d,diffuseConstant,divisor,dx,dy,elevation,filterRes,fx,fy,gradientTransform,height,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,letter-spacing,limitingConeAngle,markerHeight,markerWidth,numOctaves,order,overline-position,overline-thickness,pathLength,points,pointsAtX,pointsAtY,pointsAtZ,r,radius,rx,ry,seed,specularConstant,specularExponent,stdDeviation,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,surfaceScale,target,targetX,targetY,transform,underline-position,underline-thickness,viewBox,width,x,x1,x2,y,y1,y2,z".split(",")),et=function(t,e){return"number"!=typeof e?"":A.contains(t)?"px":k.contains(t)?"deg":""},tt=function(t,e){var n,r;return n=(""+e).match(/^([0-9.-]*)([^0-9]*)$/),null!=n?(e=n[1],r=n[2]):e=parseFloat(e),e=O(parseFloat(e),10),(null==r||""===r)&&(r=et(t,e)),""+t+"("+e+r+")"},N=function(t){var e,n,r,i,o,s,a,l;r={};for(i in t)if(o=t[i],K.contains(i))if(n=i.match(/(translate|rotateC|rotate|skew|scale|perspective)(X|Y|Z|)/),n&&n[2].length>0)r[i]=o;else for(l=["X","Y","Z"],s=0,a=l.length;a>s;s++)e=l[s],r[n[1]+e]=o;else r[i]=o;return r},M=function(t){var e;return e="opacity"===t?1:0,""+e+et(t,e)},T=function(t,e){var n,r,i,o,s,u,c,f,h,p,d;if(o={},n=j(t),null!=t.style)for(s=window.getComputedStyle(t,null),c=0,h=e.length;h>c;c++)r=e[c],K.contains(r)?null==o.transform&&(i=n?new l(null!=(d=t.transform.baseVal.consolidate())?d.matrix:void 0):a.fromTransform(s[L("transform")]),o.transform=i.decompose()):(u=s[r],null==u&&Z.contains(r)&&(u=t.getAttribute(r)),(""===u||null==u)&&(u=M(r)),o[r]=S(u));else for(f=0,p=e.length;p>f;f++)r=e[f],o[r]=S(t[r]);return o},S=function(t){var e,n,a,l,u;for(a=[i,r,o,s],l=0,u=a.length;u>l;l++)if(n=a[l],e=n.create(t),null!=e)return e;return null},o=function(){function t(t){this.format=nt(this.format,this),this.interpolate=nt(this.interpolate,this),this.obj=t}return t.prototype.interpolate=function(e,n){var r,i,o,s,a;s=this.obj,r=e.obj,o={};for(i in s)a=s[i],o[i]=null!=a.interpolate?a.interpolate(r[i],n):a;return new t(o)},t.prototype.format=function(){return this.obj},t.create=function(e){var n,r,i;if(e instanceof Object){r={};for(n in e)i=e[n],r[n]=S(i);return new t(r)}return null},t}(),s=function(){function t(t,e,n){this.prefix=e,this.suffix=n,this.format=nt(this.format,this),this.interpolate=nt(this.interpolate,this),this.value=parseFloat(t)}return t.prototype.interpolate=function(e,n){var r,i;return i=this.value,r=e.value,new t((r-i)*n+i,e.prefix||this.prefix,e.suffix||this.suffix)},t.prototype.format=function(){return null==this.prefix&&null==this.suffix?O(this.value,5):this.prefix+O(this.value,5)+this.suffix},t.create=function(e){var n;return"string"!=typeof e?new t(e):(n=(""+e).match("([^0-9.+-]*)([0-9.+-]+)([^0-9.+-]*)"),null!=n?new t(n[2],n[1],n[3]):null)},t}(),r=function(){function t(t,e){this.values=t,this.sep=e,this.format=nt(this.format,this),this.interpolate=nt(this.interpolate,this)}return t.prototype.interpolate=function(e,n){var r,i,o,s,a,l;for(s=this.values,r=e.values,o=[],i=a=0,l=Math.min(s.length,r.length);l>=0?l>a:a>l;i=l>=0?++a:--a)o.push(null!=s[i].interpolate?s[i].interpolate(r[i],n):s[i]);return new t(o,this.sep)},t.prototype.format=function(){var t;return t=this.values.map(function(t){return null!=t.format?t.format():t}),null!=this.sep?t.join(this.sep):t},t.createFromArray=function(e,n){var r;return r=e.map(function(t){return S(t)||t}),r=r.filter(function(t){return null!=t}),new t(r,n)},t.create=function(e){var n,r,i,o,s;if(e instanceof Array)return t.createFromArray(e,null);if("string"==typeof e){for(i=[" ",",","|",";","/",":"],o=0,s=i.length;s>o;o++)if(r=i[o],n=e.split(r),n.length>1)return t.createFromArray(n,r);return null}},t}(),t=function(){function t(t,e){this.rgb=null!=t?t:{},this.format=e,this.toRgba=nt(this.toRgba,this),this.toRgb=nt(this.toRgb,this),this.toHex=nt(this.toHex,this)}return t.fromHex=function(e){var n,r;return n=e.match(/^#([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i),null!=n&&(e="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),r=e.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i),null!=r?new t({r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:1},"hex"):null},t.fromRgb=function(e){var n,r;return n=e.match(/^rgba?\(([0-9.]*), ?([0-9.]*), ?([0-9.]*)(?:, ?([0-9.]*))?\)$/),null!=n?new t({r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:parseFloat(null!=(r=n[4])?r:1)},null!=n[4]?"rgba":"rgb"):null},t.componentToHex=function(t){var e;return e=t.toString(16),1===e.length?"0"+e:e},t.prototype.toHex=function(){return"#"+t.componentToHex(this.rgb.r)+t.componentToHex(this.rgb.g)+t.componentToHex(this.rgb.b)},t.prototype.toRgb=function(){return"rgb("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+")"},t.prototype.toRgba=function(){return"rgba("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+", "+this.rgb.a+")"},t}(),i=function(){function e(t){this.color=t,this.format=nt(this.format,this),this.interpolate=nt(this.interpolate,this)}return e.prototype.interpolate=function(n,r){var i,o,s,a,l,u,c,f;for(a=this.color,i=n.color,s={},f=["r","g","b"],u=0,c=f.length;c>u;u++)o=f[u],l=Math.round((i.rgb[o]-a.rgb[o])*r+a.rgb[o]),s[o]=Math.min(255,Math.max(0,l));return o="a",l=O((i.rgb[o]-a.rgb[o])*r+a.rgb[o],5),s[o]=Math.min(1,Math.max(0,l)),new e(new t(s,i.format))},e.prototype.format=function(){return"hex"===this.color.format?this.color.toHex():"rgb"===this.color.format?this.color.toRgb():"rgba"===this.color.format?this.color.toRgba():void 0},e.create=function(n){var r;if("string"==typeof n)return r=t.fromHex(n)||t.fromRgb(n),null!=r?new e(r):null},e}(),n=function(){function t(t){this.props=t,this.applyRotateCenter=nt(this.applyRotateCenter,this),this.format=nt(this.format,this),this.interpolate=nt(this.interpolate,this)}return t.prototype.interpolate=function(e,n){var r,i,o,s,a,l,u,c,f,h,p,d;for(o={},h=["translate","scale","rotate"],s=0,c=h.length;c>s;s++)for(i=h[s],o[i]=[],r=a=0,p=this.props[i].length;p>=0?p>a:a>p;r=p>=0?++a:--a)o[i][r]=(e.props[i][r]-this.props[i][r])*n+this.props[i][r];for(r=l=1;2>=l;r=++l)o.rotate[r]=e.props.rotate[r];for(d=["skew"],u=0,f=d.length;f>u;u++)i=d[u],o[i]=(e.props[i]-this.props[i])*n+this.props[i];return new t(o)},t.prototype.format=function(){return"translate("+this.props.translate.join(",")+") rotate("+this.props.rotate.join(",")+") skewX("+this.props.skew+") scale("+this.props.scale.join(",")+")"},t.prototype.applyRotateCenter=function(t){var e,n,r,i,o,s;for(n=g.createSVGMatrix(),n=n.translate(t[0],t[1]),n=n.rotate(this.props.rotate[0]),n=n.translate(-t[0],-t[1]),r=new l(n),i=r.decompose().props.translate,s=[],e=o=0;1>=o;e=++o)s.push(this.props.translate[e]-=i[e]);return s},t}(),g="undefined"!=typeof document&&null!==document?document.createElementNS("http://www.w3.org/2000/svg","svg"):void 0,l=function(){function t(t){this.m=t,this.applyProperties=nt(this.applyProperties,this),this.decompose=nt(this.decompose,this),this.m||(this.m=g.createSVGMatrix())}return t.prototype.decompose=function(){var t,e,r,i,o;return i=new c([this.m.a,this.m.b]),o=new c([this.m.c,this.m.d]),t=i.length(),r=i.dot(o),i=i.normalize(),e=o.combine(i,1,-r).length(),new n({translate:[this.m.e,this.m.f],rotate:[180*Math.atan2(this.m.b,this.m.a)/Math.PI,this.rotateCX,this.rotateCY],scale:[t,e],skew:r/e*180/Math.PI})},t.prototype.applyProperties=function(t){var e,n,r,i,o,s,a,l;for(e={},o=0,s=t.length;s>o;o++)r=t[o],e[r[0]]=r[1];for(n in e)i=e[n],"translateX"===n?this.m=this.m.translate(i,0):"translateY"===n?this.m=this.m.translate(0,i):"scaleX"===n?this.m=this.m.scale(i,1):"scaleY"===n?this.m=this.m.scale(1,i):"rotateZ"===n?this.m=this.m.rotate(i):"skewX"===n?this.m=this.m.skewX(i):"skewY"===n&&(this.m=this.m.skewY(i));return this.rotateCX=null!=(a=e.rotateCX)?a:0,this.rotateCY=null!=(l=e.rotateCY)?l:0},t}(),c=function(){function t(t){this.els=t,this.combine=nt(this.combine,this),this.normalize=nt(this.normalize,this),this.length=nt(this.length,this),this.cross=nt(this.cross,this),this.dot=nt(this.dot,this),this.e=nt(this.e,this)}return t.prototype.e=function(t){return 1>t||t>this.els.length?null:this.els[t-1]},t.prototype.dot=function(t){var e,n,r;if(e=t.els||t,r=0,n=this.els.length,n!==e.length)return null;for(n+=1;--n;)r+=this.els[n-1]*e[n-1];return r},t.prototype.cross=function(e){var n,r;return r=e.els||e,3!==this.els.length||3!==r.length?null:(n=this.els,new t([n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]))},t.prototype.length=function(){var t,e,n,r,i;for(t=0,i=this.els,n=0,r=i.length;r>n;n++)e=i[n],t+=Math.pow(e,2);return Math.sqrt(t)},t.prototype.normalize=function(){var e,n,r,i,o;r=this.length(),i=[],o=this.els;for(n in o)e=o[n],i[n]=e/r;return new t(i)},t.prototype.combine=function(e,n,r){var i,o,s,a;for(o=[],i=s=0,a=this.els.length;a>=0?a>s:s>a;i=a>=0?++s:--s)o[i]=n*this.els[i]+r*e.els[i];return new t(o)},t}(),e=function(){function t(){this.toMatrix=nt(this.toMatrix,this),this.format=nt(this.format,this),this.interpolate=nt(this.interpolate,this)}return t.prototype.interpolate=function(e,n,r){var i,o,s,a,l,u,c,f,h,p,d,m,y,v,g,b,w,x;for(null==r&&(r=null),s=this,o=new t,w=["translate","scale","skew","perspective"],m=0,b=w.length;b>m;m++)for(c=w[m],o[c]=[],a=y=0,x=s[c].length-1;x>=0?x>=y:y>=x;a=x>=0?++y:--y)o[c][a]=null==r||r.indexOf(c)>-1||r.indexOf(""+c+["x","y","z"][a])>-1?(e[c][a]-s[c][a])*n+s[c][a]:s[c][a];if(null==r||-1!==r.indexOf("rotate")){if(f=s.quaternion,h=e.quaternion,i=f[0]*h[0]+f[1]*h[1]+f[2]*h[2]+f[3]*h[3],0>i){for(a=v=0;3>=v;a=++v)f[a]=-f[a];i=-i}for(i+1>.05?1-i>=.05?(d=Math.acos(i),u=1/Math.sin(d),p=Math.sin(d*(1-n))*u,l=Math.sin(d*n)*u):(p=1-n,l=n):(h[0]=-f[1],h[1]=f[0],h[2]=-f[3],h[3]=f[2],p=Math.sin(piDouble*(.5-n)),l=Math.sin(piDouble*n)),o.quaternion=[],a=g=0;3>=g;a=++g)o.quaternion[a]=f[a]*p+h[a]*l}else o.quaternion=s.quaternion;return o},t.prototype.format=function(){return this.toMatrix().toString()},t.prototype.toMatrix=function(){var t,e,n,r,i,o,s,l,u,c,f,h,p,d,m,y;for(t=this,i=a.I(4),e=p=0;3>=p;e=++p)i.els[e][3]=t.perspective[e];for(o=t.quaternion,c=o[0],f=o[1],h=o[2],u=o[3],s=t.skew,r=[[1,0],[2,0],[2,1]],e=d=2;d>=0;e=--d)s[e]&&(l=a.I(4),l.els[r[e][0]][r[e][1]]=s[e],i=i.multiply(l));for(i=i.multiply(new a([[1-2*(f*f+h*h),2*(c*f-h*u),2*(c*h+f*u),0],[2*(c*f+h*u),1-2*(c*c+h*h),2*(f*h-c*u),0],[2*(c*h-f*u),2*(f*h+c*u),1-2*(c*c+f*f),0],[0,0,0,1]])),e=m=0;2>=m;e=++m){for(n=y=0;2>=y;n=++y)i.els[e][n]*=t.scale[e];i.els[3][e]=t.translate[e]}return i},t}(),a=function(){function t(t){this.els=t,this.toString=nt(this.toString,this),this.decompose=nt(this.decompose,this),this.inverse=nt(this.inverse,this),this.augment=nt(this.augment,this),this.toRightTriangular=nt(this.toRightTriangular,this),this.transpose=nt(this.transpose,this),this.multiply=nt(this.multiply,this),this.dup=nt(this.dup,this),this.e=nt(this.e,this)}return t.prototype.e=function(t,e){return 1>t||t>this.els.length||1>e||e>this.els[0].length?null:this.els[t-1][e-1]},t.prototype.dup=function(){return new t(this.els)},t.prototype.multiply=function(e){var n,r,i,o,s,a,l,u,c,f,h,p,d;for(p=!!e.modulus,n=e.els||e,"undefined"==typeof n[0][0]&&(n=new t(n).els),f=this.els.length,l=f,u=n[0].length,i=this.els[0].length,o=[],f+=1;--f;)for(s=l-f,o[s]=[],h=u,h+=1;--h;){for(a=u-h,d=0,c=i,c+=1;--c;)r=i-c,d+=this.els[s][r]*n[r][a];o[s][a]=d}return n=new t(o),p?n.col(1):n},t.prototype.transpose=function(){var e,n,r,i,o,s,a;for(a=this.els.length,e=this.els[0].length,n=[],o=e,o+=1;--o;)for(r=e-o,n[r]=[],s=a,s+=1;--s;)i=a-s,n[r][i]=this.els[i][r];return new t(n)},t.prototype.toRightTriangular=function(){var t,e,n,r,i,o,s,a,l,u,c,f,h,p;for(t=this.dup(),a=this.els.length,i=a,o=this.els[0].length;--a;){if(n=i-a,0===t.els[n][n])for(r=c=h=n+1;i>=h?i>c:c>i;r=i>=h?++c:--c)if(0!==t.els[r][n]){for(e=[],l=o,l+=1;--l;)u=o-l,e.push(t.els[n][u]+t.els[r][u]);t.els[n]=e;break}if(0!==t.els[n][n])for(r=f=p=n+1;i>=p?i>f:f>i;r=i>=p?++f:--f){for(s=t.els[r][n]/t.els[n][n],e=[],l=o,l+=1;--l;)u=o-l,e.push(n>=u?0:t.els[r][u]-t.els[n][u]*s);t.els[r]=e}}return t},t.prototype.augment=function(e){var n,r,i,o,s,a,l,u,c;if(n=e.els||e,"undefined"==typeof n[0][0]&&(n=new t(n).els),r=this.dup(),i=r.els[0].length,u=r.els.length,a=u,l=n[0].length,u!==n.length)return null;for(u+=1;--u;)for(o=a-u,c=l,c+=1;--c;)s=l-c,r.els[o][i+s]=n[o][s];return r},t.prototype.inverse=function(){var e,n,r,i,o,s,a,l,u,c,f,h,p;for(c=this.els.length,a=c,e=this.augment(t.I(c)).toRightTriangular(),l=e.els[0].length,o=[],c+=1;--c;){for(i=c-1,r=[],f=l,o[i]=[],n=e.els[i][i],f+=1;--f;)h=l-f,u=e.els[i][h]/n,r.push(u),h>=a&&o[i].push(u);for(e.els[i]=r,s=p=0;i>=0?i>p:p>i;s=i>=0?++p:--p){for(r=[],f=l,f+=1;--f;)h=l-f,r.push(e.els[s][h]-e.els[i][h]*e.els[s][i]);e.els[s]=r}}return new t(o)},t.I=function(e){var n,r,i,o,s;for(n=[],o=e,e+=1;--e;)for(r=o-e,n[r]=[],s=o,s+=1;--s;)i=o-s,n[r][i]=r===i?1:0;return new t(n)},t.prototype.decompose=function(){var t,n,r,i,o,s,a,l,u,f,h,p,d,m,y,v,g,b,w,x,S,M,k,C,T,E,F,j,z,$,_,q,N,W,L,A,H,O;for(s=this,x=[],g=[],b=[],f=[],l=[],t=[],n=z=0;3>=z;n=++z)for(t[n]=[],i=$=0;3>=$;i=++$)t[n][i]=s.els[n][i];if(0===t[3][3])return!1;for(n=_=0;3>=_;n=++_)for(i=q=0;3>=q;i=++q)t[n][i]/=t[3][3];for(u=s.dup(),n=N=0;2>=N;n=++N)u.els[n][3]=0;if(u.els[3][3]=1,0!==t[0][3]||0!==t[1][3]||0!==t[2][3]){for(p=new c(t.slice(0,4)[3]),r=u.inverse(),S=r.transpose(),l=S.multiply(p).els,n=W=0;2>=W;n=++W)t[n][3]=0;t[3][3]=1}else l=[0,0,0,1];for(n=L=0;2>=L;n=++L)x[n]=t[3][n],t[3][n]=0;for(m=[],n=A=0;2>=A;n=++A)m[n]=new c(t[n].slice(0,3));if(g[0]=m[0].length(),m[0]=m[0].normalize(),b[0]=m[0].dot(m[1]),m[1]=m[1].combine(m[0],1,-b[0]),g[1]=m[1].length(),m[1]=m[1].normalize(),b[0]/=g[1],b[1]=m[0].dot(m[2]),m[2]=m[2].combine(m[0],1,-b[1]),b[2]=m[1].dot(m[2]),m[2]=m[2].combine(m[1],1,-b[2]),g[2]=m[2].length(),m[2]=m[2].normalize(),b[1]/=g[2],b[2]/=g[2],a=m[1].cross(m[2]),m[0].dot(a)<0)for(n=H=0;2>=H;n=++H)for(g[n]*=-1,i=O=0;2>=O;i=++O)m[n].els[i]*=-1;y=function(t,e){return m[t].els[e]},d=[],d[1]=Math.asin(-y(0,2)),0!==Math.cos(d[1])?(d[0]=Math.atan2(y(1,2),y(2,2)),d[2]=Math.atan2(y(0,1),y(0,0))):(d[0]=Math.atan2(-y(2,0),y(1,1)),d[1]=0),w=y(0,0)+y(1,1)+y(2,2)+1,w>1e-4?(v=.5/Math.sqrt(w),T=.25/v,E=(y(2,1)-y(1,2))*v,F=(y(0,2)-y(2,0))*v,j=(y(1,0)-y(0,1))*v):y(0,0)>y(1,1)&&y(0,0)>y(2,2)?(v=2*Math.sqrt(1+y(0,0)-y(1,1)-y(2,2)),E=.25*v,F=(y(0,1)+y(1,0))/v,j=(y(0,2)+y(2,0))/v,T=(y(2,1)-y(1,2))/v):y(1,1)>y(2,2)?(v=2*Math.sqrt(1+y(1,1)-y(0,0)-y(2,2)),E=(y(0,1)+y(1,0))/v,F=.25*v,j=(y(1,2)+y(2,1))/v,T=(y(0,2)-y(2,0))/v):(v=2*Math.sqrt(1+y(2,2)-y(0,0)-y(1,1)),E=(y(0,2)+y(2,0))/v,F=(y(1,2)+y(2,1))/v,j=.25*v,T=(y(1,0)-y(0,1))/v),f=[E,F,j,T],h=new e,h.translate=x,h.scale=g,h.skew=b,h.quaternion=f,h.perspective=l,h.rotate=d;for(k in h){M=h[k];for(o in M)C=M[o],isNaN(C)&&(M[o]=0)}return h},t.prototype.toString=function(){var t,e,n,r,i;for(n="matrix3d(",t=r=0;3>=r;t=++r)for(e=i=0;3>=i;e=++i)n+=O(this.els[t][e],10),(3!==t||3!==e)&&(n+=",");return n+=")"},t.matrixForTransform=b(function(t){var e,n,r,i,o,s;return e=document.createElement("div"),e.style.position="absolute",e.style.visibility="hidden",e.style[L("transform")]=t,document.body.appendChild(e),r=window.getComputedStyle(e,null),n=null!=(i=null!=(o=r.transform)?o:r[L("transform")])?i:null!=(s=C.tests)?s.matrixForTransform(t):void 0,document.body.removeChild(e),n}),t.fromTransform=function(e){var n,r,i,o,s,a;for(o=null!=e?e.match(/matrix3?d?\(([-0-9,e \.]*)\)/):void 0,o?(n=o[1].split(","),n=n.map(parseFloat),r=6===n.length?[n[0],n[1],0,0,n[2],n[3],0,0,0,0,1,0,n[4],n[5],0,1]:n):r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s=[],i=a=0;3>=a;i=++a)s.push(r.slice(4*i,4*i+4));return new t(s)},t}(),W=b(function(t){var e,n,r,i,o,s,a,l,u,c;if(void 0!==document.body.style[t])return"";for(i=t.split("-"),o="",s=0,l=i.length;l>s;s++)r=i[s],o+=r.substring(0,1).toUpperCase()+r.substring(1);for(c=["Webkit","Moz","ms"],a=0,u=c.length;u>a;a++)if(n=c[a],e=n+o,void 0!==document.body.style[e])return n;return""}),L=b(function(t){var e;return e=W(t),"Moz"===e?""+e+(t.substring(0,1).toUpperCase()+t.substring(1)):""!==e?"-"+e.toLowerCase()+"-"+J(t):J(t)}),H="undefined"!=typeof window&&null!==window?window.requestAnimationFrame:void 0,p=[],d=[],I=!1,Y=1,"undefined"!=typeof window&&null!==window&&window.addEventListener("keyup",function(t){return 68===t.keyCode&&t.shiftKey&&t.ctrlKey?C.toggleSlow():void 0}),null==H&&(z=0,H=function(t){var e,n,r;return e=Date.now(),r=Math.max(0,16-(e-z)),n=window.setTimeout(function(){return t(e+r)},r),z=e+r,n}),X=!1,P=!1,G=function(){return X?void 0:(X=!0,H(R))},R=function(t){var e,n,r,i;if(P)return void H(R);for(n=[],r=0,i=p.length;i>r;r++)e=p[r],h(t,e)||n.push(e);return p=p.filter(function(t){return-1===n.indexOf(t)}),0===p.length?X=!1:H(R)},h=function(t,e){var n,r,i,o,s,a,l,u;if(null==e.tStart&&(e.tStart=t),o=(t-e.tStart)/e.options.duration,s=e.curve(o),r={},o>=1)r=e.curve.initialForce?e.properties.start:e.properties.end;else{u=e.properties.start;for(n in u)i=u[n],r[n]=E(i,e.properties.end[n],s)}return y(e.el,r),"function"==typeof(a=e.options).change&&a.change(e.el),o>=1&&"function"==typeof(l=e.options).complete&&l.complete(e.el),1>o},E=function(t,e,n){return null!=t&&null!=t.interpolate?t.interpolate(e,n):null},B=function(t,e,n,r){var i,o,u,c,f,h,m,y;if(null!=r&&(d=d.filter(function(t){return t.id!==r})),C.stop(t,{timeout:!1}),!n.animated)return C.css(t,e),void("function"==typeof n.complete&&n.complete(this));e=N(e),f=T(t,Object.keys(e)),i={},h=[];for(u in e)m=e[u],K.contains(u)?h.push([u,m]):(i[u]=S(m),i[u]instanceof s&&null!=t.style&&(i[u].prefix="",null==(y=i[u]).suffix&&(y.suffix=et(u,0))));return h.length>0&&(o=j(t),o?(c=new l,c.applyProperties(h)):(m=h.map(function(t){return tt(t[0],t[1])}).join(" "),c=a.fromTransform(a.matrixForTransform(m))),i.transform=c.decompose(),o&&f.transform.applyRotateCenter([i.transform.props.rotate[1],i.transform.props.rotate[2]])),p.push({el:t,properties:{start:f,end:i},options:n,curve:n.type.call(n.type,n)}),G()},U=[],Q=0,D=function(t){return F()?t.realTimeoutId=setTimeout(function(){return t.fn(),w(t.id)},t.delay):void 0},f=function(t,e){var n;return Q+=1,n={id:Q,tStart:Date.now(),fn:t,delay:e,originalDelay:e},D(n),U.push(n),Q},w=function(t){return U=U.filter(function(e){return e.id===t&&clearTimeout(e.realTimeoutId),e.id!==t})},$=function(t,e){var n;return null!=t?(n=t-e.tStart,e.originalDelay-n):e.originalDelay},"undefined"!=typeof window&&null!==window&&window.addEventListener("unload",function(){}),V=null,q(function(t){var e,n,r,i,o,s,a,l,u,c;if(P=!t,t){if(X)for(n=Date.now()-V,o=0,l=p.length;l>o;o++)e=p[o],null!=e.tStart&&(e.tStart+=n);for(s=0,u=U.length;u>s;s++)r=U[s],r.delay=$(V,r),D(r);return V=null}for(V=Date.now(),c=[],i=0,a=U.length;a>i;i++)r=U[i],c.push(clearTimeout(r.realTimeoutId));return c}),C={},C.linear=function(){return function(t){return t}},C.spring=function(t){var e,n,r,i,o,s;return null==t&&(t={}),m(t,arguments.callee.defaults),i=Math.max(1,t.frequency/20),o=Math.pow(20,t.friction/100),s=t.anticipationSize/1e3,r=Math.max(0,s),e=function(e){var n,r,i,o,a;return n=.8,o=s/(1-s),a=0,i=(o-n*a)/(o-a),r=(n-i)/o,r*e*t.anticipationStrength/100+i},n=function(t){return Math.pow(o/10,-t)*(1-t)},function(t){var r,o,a,l,u,c,f,h;return c=t/(1-s)-s/(1-s),s>t?(h=s/(1-s)-s/(1-s),f=0/(1-s)-s/(1-s),u=Math.acos(1/e(h)),a=(Math.acos(1/e(f))-u)/(i*-s),r=e):(r=n,u=0,a=1),o=r(c),l=i*(t-s)*a+u,1-o*Math.cos(l)}},C.bounce=function(t){var e,n,r,i;return null==t&&(t={}),m(t,arguments.callee.defaults),r=Math.max(1,t.frequency/20),i=Math.pow(20,t.friction/100),e=function(t){return Math.pow(i/10,-t)*(1-t)},n=function(t){var n,i,o,s;return s=-1.57,i=1,n=e(t),o=r*t*i+s,n*Math.cos(o)},n.initialForce=!0,n},C.gravity=function(t){var e,n,r,i,o,s,a;return null==t&&(t={}),m(t,arguments.callee.defaults),n=Math.min(t.bounciness/1250,.8),i=t.elasticity/1e3,a=100,r=[],e=function(){var r,i;for(r=Math.sqrt(2/a),i={a:-r,b:r,H:1},t.initialForce&&(i.a=0,i.b=2*i.b);i.H>.001;)e=i.b-i.a,i={a:i.b,b:i.b+e*n,H:i.H*n*n};return i.b}(),s=function(n,r,i,o){var s,a;return e=r-n,a=2/e*o-1-2*n/e,s=a*a*i-i+1,t.initialForce&&(s=1-s),s},function(){var o,s,l,u;for(s=Math.sqrt(2/(a*e*e)),l={a:-s,b:s,H:1},t.initialForce&&(l.a=0,l.b=2*l.b),r.push(l),o=e,u=[];l.b<1&&l.H>.001;)o=l.b-l.a,l={a:l.b,b:l.b+o*n,H:l.H*i},u.push(r.push(l));return u}(),o=function(e){var n,i,o;for(i=0,n=r[i];!(e>=n.a&&e<=n.b)&&(i+=1,n=r[i]););return o=n?s(n.a,n.b,n.H,e):t.initialForce?0:1},o.initialForce=t.initialForce,o},C.forceWithGravity=function(t){return null==t&&(t={}),
m(t,arguments.callee.defaults),t.initialForce=!0,C.gravity(t)},C.bezier=function(){var t,e,n;return e=function(t,e,n,r,i){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*n+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*i},t=function(t,n,r,i,o){return{x:e(t,n.x,r.x,i.x,o.x),y:e(t,n.y,r.y,i.y,o.y)}},n=function(t,e,n){var r,i,o,s,a,l,u,c,f,h;for(r=null,f=0,h=e.length;h>f&&(i=e[f],t>=i(0).x&&t<=i(1).x&&(r=i),null===r);f++);if(!r)return n?0:1;for(c=1e-4,s=0,l=1,a=(l+s)/2,u=r(a).x,o=0;Math.abs(t-u)>c&&100>o;)t>u?s=a:l=a,a=(l+s)/2,u=r(a).x,o+=1;return r(a).y},function(e){var r,i,o;return null==e&&(e={}),i=e.points,o=!1,r=function(){var e,n,o;r=[],o=function(e,n){var i;return i=function(r){return t(r,e,e.cp[e.cp.length-1],n.cp[0],n)},r.push(i)};for(e in i){if(n=parseInt(e),n>=i.length-1)break;o(i[n],i[n+1])}return r}(),function(t){return 0===t?0:1===t?1:n(t,r,o)}}}(),C.easeInOut=function(t){var e,n;return null==t&&(t={}),e=null!=(n=t.friction)?n:arguments.callee.defaults.friction,C.bezier({points:[{x:0,y:0,cp:[{x:.92-e/1e3,y:0}]},{x:1,y:1,cp:[{x:.08+e/1e3,y:1}]}]})},C.easeIn=function(t){var e,n;return null==t&&(t={}),e=null!=(n=t.friction)?n:arguments.callee.defaults.friction,C.bezier({points:[{x:0,y:0,cp:[{x:.92-e/1e3,y:0}]},{x:1,y:1,cp:[{x:1,y:1}]}]})},C.easeOut=function(t){var e,n;return null==t&&(t={}),e=null!=(n=t.friction)?n:arguments.callee.defaults.friction,C.bezier({points:[{x:0,y:0,cp:[{x:0,y:0}]},{x:1,y:1,cp:[{x:.08+e/1e3,y:1}]}]})},C.spring.defaults={frequency:300,friction:200,anticipationSize:0,anticipationStrength:0},C.bounce.defaults={frequency:300,friction:200},C.forceWithGravity.defaults=C.gravity.defaults={bounciness:400,elasticity:200},C.easeInOut.defaults=C.easeIn.defaults=C.easeOut.defaults={friction:500},C.css=_(function(t,e){return v(t,e,!0)}),C.animate=_(function(t,e,n){var r;return null==n&&(n={}),n=x(n),m(n,{type:C.easeInOut,duration:1e3,delay:0,animated:!0}),n.duration=Math.max(0,n.duration*Y),n.delay=Math.max(0,n.delay),0===n.delay?B(t,e,n):(r=C.setTimeout(function(){return B(t,e,n,r)},n.delay),d.push({id:r,el:t}))}),C.stop=_(function(t,e){return null==e&&(e={}),null==e.timeout&&(e.timeout=!0),e.timeout&&(d=d.filter(function(n){return!(n.el!==t||null!=e.filter&&!e.filter(n))&&(C.clearTimeout(n.id),!0)})),p=p.filter(function(e){return e.el!==t})}),C.setTimeout=function(t,e){return f(t,e*Y)},C.clearTimeout=function(t){return w(t)},C.toggleSlow=function(){return I=!I,Y=I?3:1,"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log("dynamics.js: slow animations "+(I?"enabled":"disabled")):void 0},"object"==typeof module&&"object"==typeof module.exports?module.exports=C:"function"==typeof define&&define.amd?define(C):window.dynamics=C}.call(this),function(t){"use strict";function e(t,e){var n=!0;return function(r){n&&(n=!1,setTimeout(function(){n=!0},e),t(r))}}function n(){r()}function r(){k.addEventListener("click",function(){i(w[E])}),T.addEventListener("click",o),S.addEventListener("click",function(){a("right")}),M.addEventListener("click",function(){a("left")}),t.addEventListener("resize",e(function(e){y={width:t.innerWidth,height:t.innerHeight},w.forEach(function(t,e){if(e!==E){var n=t.querySelector(".slide__mover");dynamics.css(n,{translateX:n.offsetWidth})}})},10)),document.addEventListener("keydown",function(t){if(!F){var e=t.keyCode||t.which;switch(e){case 37:a("left");break;case 39:a("right")}}})}function i(t){if(!F){F=!0;var e=t.querySelector(".zoomer");classie.add(e,"zoomer--active"),g.addEventListener("scroll",l),s(e),z&&dynamics.animate(f,{scale:z},{type:dynamics.easeInOut,duration:500}),m(e,function(){z&&(dynamics.stop(f),dynamics.css(f,{scale:1}),f.style.WebkitTransform="none",f.style.transform="none"),classie.add(f,"noscroll"),classie.add(C,"content--open");var n=document.getElementById(t.getAttribute("data-content"));classie.add(n,"content__item--current"),classie.add(n,"content__item--reset"),classie.add(e,"zoomer--notrans"),e.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",e.style.transform="translate3d(0,0,0) scale3d(1,1,1)"})}}function o(){var t=C.querySelector(".content__item--current"),e=w[E].querySelector(".zoomer");classie.remove(C,"content--open"),classie.remove(t,"content__item--current"),classie.remove(f,"noscroll"),z&&(f.style.WebkitTransform="",f.style.transform="");var n=!0;s(e,n),m(t,function(t){classie.remove(this,"content__item--reset"),v=!1,g.removeEventListener("scroll",l),e.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",e.style.transform="translate3d(0,0,0) scale3d(1,1,1)",s(e),setTimeout(function(){classie.remove(e,"zoomer--notrans"),classie.remove(e,"zoomer--active"),e.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",e.style.transform="translate3d(0,0,0) scale3d(1,1,1)"},25),z&&(dynamics.css(f,{scale:z}),dynamics.animate(f,{scale:1},{type:dynamics.easeInOut,duration:500})),F=!1})}function s(t,e){var n=t.querySelector(".zoomer__area"),r={width:n.offsetWidth,height:n.offsetHeight},i=n.getBoundingClientRect(),o=r.width/r.height<y.width/y.height?y.width/r.width:y.height/r.height;z&&!e&&(o/=z),t.style.WebkitTransform="translate3d("+Number(y.width/2-(i.left+r.width/2))+"px,"+Number(y.height/2-(i.top+r.height/2))+"px,0) scale3d("+o+","+o+",1)",t.style.transform="translate3d("+Number(y.width/2-(i.left+r.width/2))+"px,"+Number(y.height/2-(i.top+r.height/2))+"px,0) scale3d("+o+","+o+",1)"}function a(t){var e=w[E],n=e.querySelector(".slide__mover"),r=e.querySelector(".slide__title");E="right"===t?E<x-1?E+1:0:E>0?E-1:x-1;var i=w[E],o=i.querySelector(".slide__mover"),s=i.querySelector(".slide__title");dynamics.animate(n,{opacity:0,translateX:"right"===t?-1*n.offsetWidth/2:n.offsetWidth/2,rotateZ:"right"===t?-10:10},{type:dynamics.spring,duration:2e3,friction:600,complete:function(){dynamics.css(e,{opacity:0,visibility:"hidden"})}}),dynamics.animate(r,{translateX:"right"===t?-250:250,opacity:0},{type:dynamics.bezier,points:[{x:0,y:0,cp:[{x:.2,y:1}]},{x:1,y:1,cp:[{x:.3,y:1}]}],duration:450}),dynamics.css(i,{opacity:1,visibility:"visible"}),dynamics.css(o,{opacity:0,translateX:"right"===t?o.offsetWidth/2:-1*o.offsetWidth/2,rotateZ:"right"===t?10:-10}),dynamics.animate(o,{opacity:1,translateX:0},{type:dynamics.spring,duration:2e3,friction:600,complete:function(){w.forEach(function(t){classie.remove(t,"slide--current")}),classie.add(i,"slide--current")}}),dynamics.css(s,{translateX:"right"===t?250:-250,opacity:0}),dynamics.animate(s,{translateX:0,opacity:1},{type:dynamics.bezier,points:[{x:0,y:0,cp:[{x:.2,y:1}]},{x:1,y:1,cp:[{x:.3,y:1}]}],duration:650})}function l(){v||(v=!0,u=g.scrollLeft,c=g.scrollTop),g.scrollTop=c,g.scrollLeft=u}var u,c,f=document.body,h=(t.document.documentElement,{transitions:Modernizr.csstransitions}),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},d=p[Modernizr.prefixed("transition")],m=function(t,e){var n=function(t){if(h.transitions){if(t.target!=this)return;this.removeEventListener(d,n)}e&&"function"==typeof e&&e.call(this)};h.transitions?t.addEventListener(d,n):n()},y={width:t.innerWidth,height:t.innerHeight},v=!1,g=document.querySelector(".container"),b=document.querySelector(".classy-slider"),w=[].slice.call(b.querySelectorAll(".slide")),x=w.length,S=b.querySelector(".button--nav-next"),M=b.querySelector(".button--nav-prev"),k=b.querySelector(".button--zoom"),C=document.querySelector(".content"),T=C.querySelector("button.slider-button--close"),E=0,F=!1,j="undefined"!=typeof InstallTrigger,z=!j&&3;n()}(window),jQuery(document).foundation(),function(t,e,n){"use strict";var r=e.Modernizr;t.CBPFWSlider=function(e,n){this.$el=t(n),this._init(e)},t.CBPFWSlider.defaults={speed:500,easing:"ease"},t.CBPFWSlider.prototype={_init:function(e){this.options=t.extend(!0,{},t.CBPFWSlider.defaults,e),this._config(),this._initEvents()},_config:function(){this.$list=this.$el.children("ul"),this.$items=this.$list.children("li"),this.itemsCount=this.$items.length,this.support=r.csstransitions&&r.csstransforms,this.support3d=r.csstransforms3d;var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},n={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"};if(this.support&&(this.transEndEventName=e[r.prefixed("transition")]+".cbpFWSlider",this.transformName=n[r.prefixed("transform")]),this.current=0,this.old=0,this.isAnimating=!1,this.$list.css("width",100*this.itemsCount+"%"),this.support&&this.$list.css("transition",this.transformName+" "+this.options.speed+"ms "+this.options.easing),this.$items.css("width",100/this.itemsCount+"%"),this.itemsCount>1){this.$navPrev=t('<span class="cbp-fwprev">&lt;</span>').hide(),this.$navNext=t('<span class="cbp-fwnext">&gt;</span>'),t("<nav/>").append(this.$navPrev,this.$navNext).appendTo(this.$el);for(var i="",o=0;o<this.itemsCount;++o){var s=o===this.current?'<span class="cbp-fwcurrent"></span>':"<span></span>";i+=s}var a=t('<div class="cbp-fwdots"/>').append(i).appendTo(this.$el);this.$navDots=a.children("span")}},_initEvents:function(){var e=this;this.itemsCount>1&&(this.$navPrev.on("click.cbpFWSlider",t.proxy(this._navigate,this,"previous")),this.$navNext.on("click.cbpFWSlider",t.proxy(this._navigate,this,"next")),this.$navDots.on("click.cbpFWSlider",function(){e._jump(t(this).index())}))},_navigate:function(t){return!this.isAnimating&&(this.isAnimating=!0,this.old=this.current,"next"===t&&this.current<this.itemsCount-1?++this.current:"previous"===t&&this.current>0&&--this.current,void this._slide())},_slide:function(){this._toggleNavControls();var e=-1*this.current*100/this.itemsCount;this.support?this.$list.css("transform",this.support3d?"translate3d("+e+"%,0,0)":"translate("+e+"%)"):this.$list.css("margin-left",-1*this.current*100+"%");var n=t.proxy(function(){this.isAnimating=!1},this);this.support?this.$list.on(this.transEndEventName,t.proxy(n,this)):n.call()},_toggleNavControls:function(){switch(this.current){case 0:this.$navNext.show(),this.$navPrev.hide();break;case this.itemsCount-1:this.$navNext.hide(),this.$navPrev.show();break;default:this.$navNext.show(),this.$navPrev.show()}this.$navDots.eq(this.old).removeClass("cbp-fwcurrent").end().eq(this.current).addClass("cbp-fwcurrent")},_jump:function(t){return t!==this.current&&!this.isAnimating&&(this.isAnimating=!0,this.old=this.current,this.current=t,void this._slide())},destroy:function(){this.itemsCount>1&&(this.$navPrev.parent().remove(),this.$navDots.parent().remove()),this.$list.css("width","auto"),this.support&&this.$list.css("transition","none"),this.$items.css("width","auto")}};var i=function(t){e.console&&e.console.error(t)};t.fn.cbpFWSlider=function(e){if("string"==typeof e){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=t.data(this,"cbpFWSlider");return r?t.isFunction(r[e])&&"_"!==e.charAt(0)?void r[e].apply(r,n):void i("no such method '"+e+"' for cbpFWSlider instance"):void i("cannot call methods on cbpFWSlider prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){var n=t.data(this,"cbpFWSlider");n?n._init():n=t.data(this,"cbpFWSlider",new t.CBPFWSlider(e,this))});return this}}(jQuery,window),jQuery(document).ready(function(){jQuery(".accordion p:empty, .orbit p:empty").remove(),jQuery(".archive-grid .columns").last().addClass("end"),jQuery('iframe[src*="youtube.com"], iframe[src*="vimeo.com"]').each(function(){jQuery(this).innerWidth()/jQuery(this).innerHeight()>1.5?jQuery(this).wrap("<div class='widescreen flex-video'/>"):jQuery(this).wrap("<div class='flex-video'/>")})});
//# sourceMappingURL=scripts.min.js.map
